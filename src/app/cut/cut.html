<div class="container-fluid">
<style>
	.list-group.active {
		display:none;
	}
	.modal-footer .btn.modal-btn-center {
		margin-left: 28%;
		margin-right: 28%;
	}
	.draft { 
		color: #ccc;
	}
</style>
<div class="row big-list">
	<div ng-hide="sync.data"><h1>Loading</h1></div>
	<div ng-show="sync.data.length == 0"><h2>No data</h2></div>
</div>
<div class="row big-list" ng-show="sync.data.length">

	<div class="col-md-5 col-no-padding">
	  <ul class="nav nav-pills nav-justified">
		<li id="todo" role="presentation" class="tab active no-radius">
			<a data-toggle="tab" ng-click="sync.current.filter={state:'draft'}">Order to do</a>
		</li>
		<li id="done" role="presentation" class="tab no-radius">
			<a data-toggle="tab" ng-click="sync.current.filter={state:'done'}">Order done</a>
		</li>
	  </ul>
	  <ul class="list-group tab " >
	  	<li ng-repeat="item in sync.data | filter: sync.current.filter | orderBy: 'sequence'" class="list-group-item list-link"  ng-click="sync.current.item = item" ng-class="{true: 'active'}[sync.current.item==item]">
{{ item.lot_number }} {{ item.name}} 
	  	</li>
	  </ul>
	</div>
	<div class="col-md-7" style="position:relative" ng-class="{true: 'draft'}[sync.current.item.state=='done']">
	  <h1>Détails</h1>
	  <p>
		<div class="well">
		  <h3>Opération {{ sync.current.item.name}}</h3>
		<p>State: {{ sync.current.item.state}}  {{ sync.current.item.casier }} </p>
		  <div ng-bind-html="sync.current.item.description"></div>
		</div>
	  </p>
	  <div class="btn-bottom pull-right">
	  	<span ng-show="sync.current.item.state == 'done'">
			<button class="btn btn-info">Print</button>
			<button class="btn btn-info" data-toggle="modal" data-target="#casier-modal">Redo</button>
		</span>
		<span ng-hide="sync.current.item.state == 'done'">
			<button class="btn btn-success" data-toggle="modal" data-target="#casier-modal" ng-click="print(sync.current.item)">OK</button>
		</span>
	  </div>
	</div>

	<div class="modal fade" id="casier-modal">
	  <div class="modal-dialog">
		<div class="modal-content">
		  <div class="modal-header">
			<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
			<h2 class="modal-title">N° de Casier</h2>
		  </div>
		  <div class="modal-body text-center">
			<div class="row">
			  <div class="container-fluid">
				<div douchette="casier">
				</div>
			  </div>
			</div>
		  </div>
		  <div class="modal-footer">
			<button type="button" class="btn btn-warning" data-dismiss="modal">Cancel</button>
			<button type="button" class="btn btn-info modal-btn-center" ng-click="print(sync.current.item)">Print</button>
			<button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="do(sync.current.item)">OK</button>
		  </div>
		</div><!-- /.modal-content -->
	  </div><!-- /.modal-dialog -->
	</div><!-- /.modal -->
 </div>
